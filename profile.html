<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIGH-TECH STEEL WORKS LTD</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <img src="./gallery/Logo.jpg" alt="High-Tech Steel Works Logo" class="logo">
        <h1>High-Tech Steel Works Ltd</h1>
        <nav>
            <ul>
                <li><a href="./index.html" class="nav">Home</a></li>
                <li><a href="./products.html" class="nav">Products</a></li>
                <li><a href="./equipment.html" class="nav">Equipment</a></li>
                <li><a href="./cart_page.html" class="nav">Cart</a></li>
                <li><a href="#contacts" class="nav">Contact Us</a></li>
                <li><a href="./profile.html" class="nav">Profile</a></li>
            </ul>
        </nav>
    </header>
    <hr>
    <nav>
        <button id="watch-video-btn">Watch Some Of Our Projects</button>  
    </nav>
    <main>
        <h2>Below is a summary of your account</h2>
        <div class="profile-page">
            <!-- Greeting and Current Time -->
            <div class="header">
                <h1 id="greeting">Hello!</h1>
                <p id="current-time"></p>
            </div>
    
            <!-- Personal Details -->
             <!-- Personal Details -->
            <div class="personal-details">
                <h2>Personal Details</h2>
                <p><strong>Name:</strong> <span id="profile-name"></span></p>
                <p><strong>Email:</strong> <span id="profile-email"></span></p>
                <p><strong>Phone:</strong> <span id="profile-phone"></span></p>
                <p><strong>Delivery Address:</strong> <span id="profile-address"></span></p>
            </div>

            <!-- Orders Section -->
            <div class="orders">
                <h2>Order History</h2>
                <div id="orders-container">
                    <!-- Orders will be dynamically inserted here by JavaScript -->
                </div>
            </div>

            <!-- Complaints and Compliments Form -->
            <div class="feedback-form">
                <h2>Submit Complaints or Compliments</h2>
                <form id="feedback-form">
                    <textarea id="feedback" placeholder="Write your complaint or compliment here..." required></textarea>
                    <button type="submit">Submit Feedback</button>
                </form>
            </div>
        </div>
        </div>
    </main>
</body>
<footer>
    <h1><span>"Home of Experience"</span></h1>
    <div class="footer_">
        <div class="social-links">
            <h2>Location</h2>
            <p> We are loacated at Utawala,<a href="" class="social-links"></a></p>
        </div>
        <div class="social-links">
            <h2 id="contacts" class="">Contact us through:</h2>
            <a href="mailto:info@high-tech-steel-works-ltd.co.ke">Email Us |</a> 
            <a href="https://wa.me/+254724376109" aria-label="Chat with us on WhatsApp">WhatsApp Us</a> |
            <a href="tel:+254723536999" aria-label="Call High-Tech Steel Works">Call: +254 723 536 999</a>
        </div>
        <div class="social-links">
            <h2></h2>
            <img src="./gallery/Facebook.jpg" alt="facebook"><a href="#"> |</a> 
            <a href="#"> Twitter |</a> 
            <a href="#"> Instagram |</a> 
        </div>
    </div>
</footer>
    <script>
        // Display greeting based on time of day
        function displayGreeting() {
            const greetingElement = document.getElementById('greeting');
            const currentTimeElement = document.getElementById('current-time');
            const now = new Date();
            const hours = now.getHours();
            let greeting = 'Hello';

            if (hours < 12) {
                greeting = 'Good morning!';
            } else if (hours < 18) {
                greeting = 'Good afternoon!';
            } else {
                greeting = 'Good evening!';
            }

            greetingElement.textContent = greeting;
            currentTimeElement.textContent = `Current time: ${now.toLocaleTimeString()} on ${now.toLocaleDateString()}`;
        }

        // Display customer and order details
        function loadProfileData() {
            // Load customer details from localStorage
            const customerData = JSON.parse(localStorage.getItem('customerData'));
            if (customerData) {
                document.getElementById('profile-name').textContent = customerData.name;
                document.getElementById('profile-email').textContent = customerData.email;
                document.getElementById('profile-phone').textContent = customerData.phone;
                document.getElementById('profile-address').textContent = customerData.address;
            }

            // Load order details from localStorage
            const orders = JSON.parse(localStorage.getItem('orderHistory')) || [];
            const ordersContainer = document.getElementById('orders-container');
            const currentDate = new Date();

            orders.forEach(order => {
                const orderDate = new Date(order.dateOrdered);
                const deliveryDate = new Date(orderDate);
                deliveryDate.setDate(deliveryDate.getDate() + 14);

                const daysRemaining = Math.round((deliveryDate - currentDate) / (1000 * 60 * 60 * 24));
                let deliveryStatus = '';

                if (daysRemaining > 0) {
                    deliveryStatus = `${daysRemaining} days remaining for delivery`;
                } else if (daysRemaining === 0) {
                    deliveryStatus = 'Delivery is today';
                } else {
                    deliveryStatus = `${Math.abs(daysRemaining)} days past due`;
                }

                const orderElement = document.createElement('div');
                orderElement.className = 'order-item';
                orderElement.innerHTML = `
                    <div>
                        <h3>Order #${order.id}</h3>
                        <p>Ordered on: ${orderDate.toLocaleDateString()}</p>
                        <p>${deliveryStatus}</p>
                    </div>
                    <button class="receive-button" onclick="receiveOrder(${order.id})">Receive Order</button>
                `;

                ordersContainer.appendChild(orderElement);
            });
        }

        // Handle receiving an order
        function receiveOrder(orderId) {
            alert(`Order #${orderId} received!`);
        }

        // Handle feedback form submission
        document.getElementById('feedback-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const feedback = document.getElementById('feedback').value;
            alert(`Feedback submitted: ${feedback}`);
            document.getElementById('feedback').value = '';
        });

        // Initialize page
        displayGreeting();
        loadProfileData();

</script>
<script src="scripts.js"></script>
</html>