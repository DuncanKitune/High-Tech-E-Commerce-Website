<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIGH-TECH STEEL WORKS LTD</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <img src="./gallery/Logo.jpg" alt="High-Tech Steel Works Logo" class="logo">
        <h1>High-Tech Steel Works Ltd</h1>
        <nav>
            <ul>
                <li><a href="./index.html" class="nav">Home</a></li>
                <li><a href="./products.html" class="nav">Products</a></li>
                <li><a href="./equipment.html" class="nav">Equipment</a></li>
                <li><a href="./cart_page.html" class="nav">Cart</a></li>
                <li><a href="#contacts" class="nav">Contact Us</a></li>
                <li><a href="./profile.html" class="nav">Profile</a></li>
            </ul>
        </nav>
    </header>
    <hr>

    <section id="cart">
        <h2>Your Cart</h2>
        <div id="cart-items">
            <!-- Cart items will be displayed here using JS -->
        </div>
        <p>Total Price: <span id="total-price">$0.00</span></p>
        <button onclick="checkout()">Proceed to Checkout</button>
    </section>
    
    <script>
        // Add product to cart
        function addToCart(productId, variantId) {
            const product = products.find(p => p.id === productId);
            const variant = product.variants.find(v => v.variantId === variantId);
            
            const cartItem = cart.find(item => item.variantId === variantId);
            if (cartItem) {
                cartItem.quantity += 1;
            } else {
                cart.push({ ...variant, name: product.name, quantity: 1 });
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            alert("Product added to cart!");
            displayCart();
        }

        // Display cart contents
        function displayCart() {
            const cartItemsDiv = document.getElementById('cart-items');
            if (!cartItemsDiv) return; // Only run if on the cart page
            
            cartItemsDiv.innerHTML = '';
            let totalPrice = 0;

            cart.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.classList.add('cart-item');
                itemDiv.innerHTML = `
                    <h3>${item.name} - ${item.size} (${item.color})</h3>
                    <p>Price: $${item.price.toFixed(2)}</p>
                    <p>Quantity: <input type="number" value="${item.quantity}" onchange="updateQuantity(${item.variantId}, this.value)"></p>
                    <button onclick="removeFromCart(${item.variantId})">Remove</button>
                    <div class="images">
                        ${item.images.map(img => `<img src="${img}" width="50">`).join('')}
                    </div>
                `;
                cartItemsDiv.appendChild(itemDiv);
                totalPrice += item.price * item.quantity;
            });

            document.getElementById('total-price').innerText = `$${totalPrice.toFixed(2)}`;
        }

        // Update quantity of items in cart
        function updateQuantity(variantId, quantity) {
            const cartItem = cart.find(item => item.variantId === variantId);
            if (cartItem) {
                cartItem.quantity = Number(quantity);
                localStorage.setItem('cart', JSON.stringify(cart));
                displayCart();
            }
        }
    </script>
    <script src="scripts.js"></script>
</body>
<footer>
    <h1><span>"Home of Experience"</span></h1>
    <div class="footer_">
        <div class="social-links">
            <h2>Location</h2>
            <p> We are loacated at Utawala,<a href="" class="social-links"></a></p>
        </div>
        <div class="social-links">
            <h2 id="contacts" class="">Contact us through:</h2>
            <a href="mailto:info@high-tech-steel-works-ltd.co.ke">Email Us |</a> 
            <a href="https://wa.me/+254724376109" aria-label="Chat with us on WhatsApp">WhatsApp Us</a> |
            <a href="tel:+254723536999" aria-label="Call High-Tech Steel Works">Call: +254 723 536 999</a>
        </div>
        <div class="social-links">
            <h2></h2>
            <img src="./gallery/Facebook.jpg" alt="facebook"><a href="#"> |</a> 
            <a href="#"> Twitter |</a> 
            <a href="#"> Instagram |</a> 
        </div>
    </div>
</footer>
</html>
